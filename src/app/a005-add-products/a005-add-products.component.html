<div class="container-fluid">
  <br>
  <div class="container mt-5 pt-5">
    <button class="btn btn-primary mb-3 home-btn" [routerLink]="['/index']">HOME</button>
    <!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
        Launch demo modal
      </button> -->
      <section class="one bg-add-products">
          <h1 class="text-center text-uppercase eng-font pt-4 pd-add-prod">
              <i class="fas fa-feather-alt mr-1 icon-mounao-rotate"></i> MOUNAO BUFFET
              <i class="fas fa-feather-alt icon-mounao"></i>
            </h1>
            <button class="import-icon-add-pd d-block mx-auto mb-3">
              <i class="fas fa-download"></i>
            </button>
      </section>
    <hr class="col-10">

    <section class="two bg-add-products pd-add-prod">
      <div class="table-second">
        <div class="card">
          <h2 class="lao-font text-center mt-4">ລາຍການສິນຄ້າທີ່ມີໃນຄັງ</h2>

          <!-- ເລືອກປະເພດສິນຄ້າ -->
          

          <div class="row d-flex justify-content-center">
            <div class="input-group mb-2 col-10">
              <input type="text" class="form-control" [(ngModel)]='_search_text' (keypress)="searchStock($event)">
              <button>Search</button>
            </div>
          </div>
          <div class="row2 p-3">
              <div class="start-test">
                  <div class="scrolling-wrapper lao-font">
                      <button class=" btn choose-goods-type ml-1" *ngFor="let m of _goodstype" [class]="checkSelectedGoodsType(m.name)" (click)="selectGoodsType(m)"><img [src]="getURL(m.src)" class="w-50 h-50 rounded-circle mb-2" alt=""> 
                        <br>{{m.name}}
                        <br> <button type="text" [value]="getTT(m.name).qtty" class="form-control2"> <i class="fas fa-file-import text-success"></i> : {{getTT(m.name).qtty}}  <br> <i class="fas fa-dollar-sign text-danger"></i> : {{getTT(m.name).ttvalue}}</button>
                       <!-- <br> {{getTT(m.name).qtty+'/'+getTT(m.name).ttvalue}} -->
                      </button>
                  </div>
                </div>
          </div>

         
          <div class="card-body">
            <button class="form-control3 col-md-2 justify-content-start">
                <i class="fas fa-file-import text-success"></i> : {{sumTT().qtty}}
                <br>
                <i class="fas fa-dollar-sign text-danger"></i> : {{sumTT().ttvalue}}
                <br>
                <i class="fas fa-dollar-sign text-danger"></i> : {{sumImport().ttvalue}}

            </button>
            <div class="row mb-4">
                <div class="col-6" *ngFor="let a of filterArrStock( _arr_stock)" (click)="selectStock(a)" data-toggle="modal" data-target="#exampleModalCenter">
                    <div class="col-10 offset-2">
                        <img src="../../assets/img/squid.jpg" alt="" class="w-100 h-100 rounded-circle">
                    </div>
                    <button class="form-control"><i class="fas fa-dollar-sign text-danger"></i> : {{a.productname}}</button>
                    <input type="text" [value]="a.productname">
                    <input type="text" [value]="a.productcode">
                    <input type="text" [value]="a.price">
                    <input type="text" [value]="a.qtty">
                    <input type="text" [value]="a.price*a.qtty">
                    <input type="text" [value]="a.lastimport">
                    <input type="text" [value]="sumtotal(a.lastimport,a.price)">
                    <input type="text" [value]="a.description">
                </div>
            </div>
            <!-- {{sumTT().qtty+'/'+sumTT().ttvalue}} -->
            <!--Table-->
            <table class="table table-bordered table-responsive-lg table-fixed">
              <!--Table head-->
              <thead>
                <tr class="lao-font text-center width-size-active">
                  <th>ຮູບ</th>
                  <th class="xl">ຊື່ສິນຄ້າ</th>
                  <th>ລະຫັດ</th>
                  <th>ລາຄາ</th>
                  <!-- <th>QTTY</th> -->
                  <th>ຈຳນວນຍັງເຫຼືອ</th>
                  <th>ມູນຄ່າຍັງເຫຼືອ</th>
                  <th>ຈຳນວນເຂົ້າ</th>
                  <th>ມູນຄ່ານຳເຂົ້າ</th>
                  <th>ໝາຍເຫດ</th>
                  <!-- QTTY = ຈຳນວນ -->
                </tr>
              </thead>
              <!--Table head-->

              <!--Table body-->
              <tbody>
                <tr class="lao-font text-content-center bg-list-stock" *ngFor="let a of filterArrStock( _arr_stock)" (click)="selectStock(a)">
                  <th scope="row" class="size-img-make-product">
                    <img src="../../assets/img/squid.jpg" alt="" class="w-100 h-100">
                  </th>
                  <td>{{a.productname}}</td>
                  <td>{{a.productcode}}</td>
                  <td>{{a.price}}</td>
                  <td>{{a.qtty}}</td>
                  <td>{{a.price*a.qtty}}</td>
                  <td>{{a.lastimport}}</td>
                  <td>{{sumtotal(a.lastimport,a.price)}}</td>
                  <td>{{a.description}}</td>
                </tr>



              </tbody>
              <!--Table body-->

            </table>
            <!--Table-->

          </div>
        </div>
      </div>
    </section>
    <br>
  </div>
  <br>

</div>

<!-- start modal popup here -->
<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <section class="one bg-add-products">
              <h1 class="text-center text-uppercase eng-font pt-4 pd-add-prod">
                <i class="fas fa-feather-alt mr-1 icon-mounao-rotate"></i> MOUNAO BUFFET
                <i class="fas fa-feather-alt icon-mounao"></i>
              </h1>
              <button class="import-icon-add-pd d-block mx-auto mb-3">
                <i class="fas fa-download"></i>
              </button>
              <h3 class="lao-font text-center mb-4">ເພີ່ມປະລິນມານສິນຄ້າເຂົ້າສາງ</h3>
              <div class="row">
                <div class="col-md-3 col-12">
                  <div class="photo d-flex justify-content-center mb-3">
                    <label class="btn">
                      <img src="../../assets/img/shrimp.jpg" alt="" class="w-px rounded-circle">
                      <input type="file" name="file_up" id="file_up" hidden>
                    </label>
                  </div>
                </div>
                <div class="col-md-9 col-12 font-size-12000-up">
                  <div class="row lao-font">
                    <div class="input-group mb-3 col-12">
                      <div class="input-group-prepend">
                        <span class="input-group-text ip-text-w lao-font" id="inputGroup-sizing-default">ຊື່ສິນຄ້າ</span>
                      </div>
                      <input type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" [value]="_selectedStock.productname?_selectedStock.productname:''"
                        disabled>
                    </div>
        
                    <div class="input-group mb-3 col-12">
                      <div class="input-group-prepend">
                        <span class="input-group-text ip-text-w lao-font" id="inputGroup-sizing-default">ລະຫັດສິນຄ້າ</span>
                      </div>
                      <input type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" [value]="_selectedStock.productcode?_selectedStock.productcode:''"
                        disabled>
                    </div>
        
                    <div class="input-group mb-3 col-lg-6 col-md-12 col-12">
                      <span class="input-group-text ip-text-w lao-font border-right-0" id="inputGroup-sizing-default">ລາຄາ</span>
                      <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)" [value]="_selectedStock.price?_selectedStock.price:''"
                        disabled>
                      <div class="input-group-append nk0">
                        <span class="input-group-text">kip</span>
                        <!-- <span class="input-group-text">0.00</span> -->
                      </div>
                    </div>
                    <div class="input-group mb-3 col-lg-5 col-md-12 col-12">
                      <span class="input-group-text ip-text-w-qtty lao-font border-right-0" id="inputGroup-sizing-default">ຈຳນວນທີ່ມີໃນສະຕ໋ອກ</span>
                      <input type="number" class="form-control " aria-label="Amount (to the nearest dollar)" [value]="_selectedStock.qtty+_newQtty"
                        disabled>
        
                      <span class="input-group-text ip-text-w-qtty lao-font border-right-0" id="inputGroup-sizing-default">ຈຳນວນທີ່ເພີ່ມໃໝ່</span>
                      <input type="number" class="form-control" aria-label="Amount (to the nearest dollar)" (change)="updateQtty($event.target.value)"
                        [value]="_newQtty" min="0">
                    </div>
        
        
                    <div class="input-group mb-3 col-12">
                      <div class="input-group-prepend">
                        <span class="input-group-text ip-text-w lao-font" id="inputGroup-sizing-default">ໝາຍເຫດ</span>
                      </div>
                      <input type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" (change)="_selectedStock.description=$event.target.value?$event.target.value:''"
                        [value]="_selectedStock.description?_selectedStock.description:''" />
                    </div>
                  </div>
                </div>
                <!-- ປຸ່ມກົດຄິກສຳເລັດການເພີ່ມສິນຄ້າ        -->
                <button class="btn btn-outline-secondary d-block mx-auto mt-4 lao-font col-md-3 col-4 text-center" (click)="importStock()">ສຳເລັດ</button>
              </div>
        
              <!-- ປູ່ມປ໋ອບອັບລາຍອຽດຕ່າງໆ -->
              <div class="row">
                <button type="button" class="btn btn-outline-secondary d-block mx-auto mt-4 lao-font text-center" data-toggle="modal" data-target="#exampleModalCenter">
                  ລາຍລະອຽດເພີ່ມເຕີມ
                </button>
              </div>
            </section>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
